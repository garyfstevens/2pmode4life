<div class="container" id="content" ng-app="pathfinder">
    <p>Test of Angular: {[{2+2}]}</p>
    <div ng-controller="TabController as tab">
        <ul class="nav nav-pills">
            <li ng-class="{'active':tab.isSet(0)}">
                <a href ng-click="tab.setTab(0)">Sandpoint</a>
            </li>
            <li ng-class="{'active':tab.isSet(1)}">
                <a href ng-click="tab.setTab(1)">Magnimar</a>
            </li>
            <li ng-class="{'active':tab.isSet(2)}">
                <a href ng-click="tab.setTab(2)">Turtleback Ferry</a>
            </li>
        </ul>
        <div ng-controller="WorldController as world">
            <div ng-repeat="city in world.cities">
                <div ng-show="tab.isSet($index)">
                    <div class="container">
                        <h1>{[{city.name}]}</h1>
                        <p>Any magic item of {[{city.base_value}]} or less has a 75% chance of being found in {[{city.name}]}.</p>
                        <h2>Items for Sale</h2>
                        <table ng-repeat="forsale in city.for_sale" class="table forsale">
                            <caption>{[{forsale.type}]}</caption>
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Price</td>
                                </tr>
                            </thead>
                            <tbody ng-repeat="item in forsale.items">
                                <tr>
                                    <td><a href="{[{item.url}]}">{[{item.name}]}</a></td>
                                    <td>{[{item.price}]}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>